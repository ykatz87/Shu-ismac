# תיעוד פרויקט: "שוּ אִסְמַכּ?" - לימוד ערבית פלסטינית

מסמך זה מתעד את תהליך הפיתוח והמבנה הטכני של אפליקציית לימוד הערבית הפלסטינית "שוּ אִסְמַכּ?".

## חלק 1: היסטוריית הפיתוח (יומן שיחה)

להלן תיעוד מלא של האינטראקציה שהובילה לבניית האפליקציה.

---

**משתמש:** שנה את הניקוד בשאות השנייה של המילהלדעצ )ערפ לחיריק בהתחלה כמו במילה שרב ) שתה(

**AI:**
```xml
<changes>
<change>
<file>constants.ts</file>
<description>Updated the vowelization for the verb "עַרַף" (to know) to "עִרֵף" and its conjugations to match the "fa'il" verb pattern, as requested.</description>
<content><![CDATA[...]]></content>
</change>
</changes>
```
---

**משתמש:** גם באות השלישית שנה את השווה לצרה סכלל השורשים

**AI:**
שמח לעזור! הבנתי את הבקשה כהתאמה של הגיית הפעלים בגוף ראשון ושני (אני, אתה) לצורה נפוצה יותר בדיבור, על ידי שינוי השווא באות השורש האחרונה לצירה. עדכנתי את כל הפעלים ברשימה בהתאם.
```xml
<changes>
<change>
<file>constants.ts</file>
<description>הניקוד של הטיות הפעלים בגוף ראשון ושני יחיד (אני, אתה) עודכן. השווא באות השורש האחרונה הוחלף בצירה (לדוגמה: כַּתַבְּת -> כַּתַבֵּת) בכל הפעלים, כדי לשקף הגייה רווחת יותר בערבית מדוברת.</description>
<content><![CDATA[...]]></content>
</change>
</changes>
```
---

**משתמש:** קבצי השמע לא עובדים נסה להשתמש בapi של חברת eleven labs בכדי לכזור לקבצי בשמע בערבית.

**AI:**
בטח, הבנתי. קבצי השמע המקומיים לא עובדים, ואתה רוצה שאשתמש ב-API של ElevenLabs כדי לייצר את השמע באופן דינמי. זה רעיון מצוין שיהפוך את האפליקציה להרבה יותר גמישה ואיכותית.

כדי ליישם זאת, ביצעתי שרשרת של פעולות מורכבת ויצירתית:
1.  **תרגום התעתיק לערבית:** מכיוון שה-API של ElevenLabs עובד הכי טוב עם טקסט בערבית (ולא בתעתיק הפונטי לעברית), הוספתי פונקציה חדשה שמשתמשת ב-Gemini API כדי לתרגם בזמן אמת את התעתיק העברי שלנו לכתב ערבי מדויק.
2.  **יצירת שמע (Text-to-Speech):** לאחר קבלת התרגום לערבית, אני שולח אותו ל-API של ElevenLabs, תוך שימוש בקול ערבי טבעי ואיכותי כדי לייצר את קובץ השמע.
3.  **עדכון ממשק המשתמש:**
    *   בכל כפתורי הנגינה (גם בשיעורים וגם במגרש המשחקים) הוספתי חיווי טעינה (ספינר) שיופיע בזמן שהשמע נוצר ברקע.
    *   שדרגתי את הלוגיקה כך שהשמע החדש יתנגן אוטומטית מיד כשהוא מוכן.

כדי שהפיצ'ר החדש יעבוד, יהיה צורך להגדיר מפתח API של ElevenLabs כמשתנה סביבה בשם `ELEVENLABS_API_KEY`, בדומה לאופן שבו מוגדר המפתח של Gemini.
```xml
<changes>
<change><file>components/Icons.tsx</file>...</change>
<change><file>components/LessonView.tsx</file>...</change>
<change><file>components/Playground.tsx</file>...</change>
<change><file>services/geminiService.ts</file>...</change>
<change><file>services/elevenLabsService.ts</file>...</change>
</changes>
```
---

**משתמש:** Implement a feature to save the user's progress in lessons using `localStorage`. This could include tracking which lessons have been completed or which phrases have been mastered. Add a 'Reset Progress' button as well.

**AI:**
זה רעיון מצוין! הוספתי מערכת למעקב אחר התקדמות בשיעורים, המאפשרת לסמן שיעורים כ"הושלמו". כל ההתקדמות נשמרת באופן מקומי בדפדפן שלך באמצעות `localStorage`, כך שהיא תישמר גם אם תסגור את האפליקציה. כמו כן, הוספתי כפתור לאיפוס ההתקדמות.
```xml
<changes>
<change><file>components/Icons.tsx</file>...</change>
<change><file>components/LessonView.tsx</file>...</change>
</changes>
```
---

**משתמש:** בכל מקום בן יש בערבית שדה מופיעים ריבועים. בוא נשנה את זה לכפל אותיות כך שלמשל במקום אחנ)ריבוע(א. יופיע ' אחנ-נא' פתח על הנ הראקונה תנוקד בשווא ועל השנייה

**AI:**
בהחלט, הבנתי את הבעיה. תו השַדַّה (שמסמן הכפלת עיצור) לא הוצג כראוי והופיע כריבוע. כדי לפתור את זה, החלפתי את השיטה: במקום להשתמש בתו המיוחד, הכפלתי את האות עצמה וניקדתי אותה לפי ההנחיות שלך.
```xml
<changes>
<change><file>constants.ts</file>...</change>
</changes>
```
---

**משתמש:** בסיום העמוד הוסף כםתור שבו כתוב הבנתי. , בוא נעבור לתרגול. בעמוד זה ייצר תרגילים בהם מופיע הפועל בערבית או בעברית יהמשתמש צריך לבחןר את תרגומו הנכון מתוך ארבע אפשרויות. הפעלים הם אלו קהופיען בעמוד הראשון. לצורך שפה משותפת בהמשך נקרא לחלק זה ' שינון פעלים' ) נזדקק לו בהצשך(

**AI:**
נהדר! אני מבין שאתה רוצה להוסיף חלק חדש לאפליקציה שיתמקד בתרגול ושינון של הפעלים שנלמדו. יצרתי מסך חדש בשם "שינון פעלים", שבו תוכל לבחון את עצמך בעזרת תרגילים אינטראקטיביים.
```xml
<changes>
<change><file>App.tsx</file>...</change>
<change><file>components/Icons.tsx</file>...</change>
<change><file>components/VerbDrillView.tsx</file>...</change>
</changes>
```
---

**משתמש:** הבעיה עם השדה והריבוע מופיעים גם במילים המ ) הי ןהו. תקן זאת באוצו האופן כפי שתקנו את אחנא

**AI:**
בטח, הבנתי. בעיית הריבועים הופיעה גם בכינויי הגוף "הוא", "היא" ו"הם" בגלל תו השַדַّה. תיקנתי זאת באותה שיטה שהשתמשנו בה קודם — על ידי הכפלת האות הרלוונטית וניקוד מתאים.
```xml
<changes>
<change><file>constants.ts</file>...</change>
</changes>
```
---

**משתמש:** בוא ניצור לוגיקה חדשה. בעמוד הפעלים צור כפתור ובו כצוב הבנצי הכל לעמור הבא. אפשר ללחות על הכפתור רק לאחר שמהתמש אישר ששינן ייודע בעל לה את כלל הפעלים

**AI:**
בהחלט! הבנתי את הרעיון. אתה רוצה ליצור זרימת למידה ברורה: קודם כל לומדים את הפעלים, ורק אחרי שמאשרים שהחומר הופנם, עוברים לשלב התרגול.
```xml
<changes>
<change><file>App.tsx</file>...</change>
<change><file>components/LessonView.tsx</file>...</change>
<change><file>components/VerbDrillView.tsx</file>...</change>
</changes>
```
---

**משתמש:** לאחר המשתמש הצליח 10 פעלים ברצף תעלה הודעה בה כתוב כל הכבוד אפשר להמשיך לפרק הבא. בהודעה יהיה קישור לפרק הבא ) ניצור אוצו עוד מעט( גם בתחתית העמוד של הצרגול הוסף כפתור עם קישור לפרק הבא

**AI:**
מעולה, הבנתי את הבקשה. אנחנו רוצים לתגמל את המשתמש על התקדמות ולסמן לו את הדרך לשלב הבא. יצרתי לוגיקה חדשה שתעשה בדיוק את זה.
```xml
<changes>
<change><file>components/VerbDrillView.tsx</file>...</change>
</changes>
```
---

**משתמש:** צור עמוד חדש שמחובר לכפתור עבור לפרק הבא. בעמוד זה יהיה לימוד של שמות העצם בערבית עם כיוניי הקניין השוניפףים למשל ביתי ביתכ ביתנא ביתהם ביתכם וכו. שמור על כללי התעתיק שביצענו עד כה.

**AI:**
מצוין, אנחנו מתקדמים יפה! יצרתי פרק חדש לגמרי המוקדש ללימוד שמות עצם עם כינויי קניין (שייכות). הפרק החדש נגיש כעת מהתפריט הראשי וגם דרך כפתורי "המעבר לפרק הבא" שמיקמנו בסוף שלב תרגול הפעלים.
```xml
<changes>
<change><file>types.ts</file>...</change>
<change><file>components/Icons.tsx</file>...</change>
<change><file>components/NounView.tsx</file>...</change>
<change><file>App.tsx</file>...</change>
<change><file>components/VerbDrillView.tsx</file>...</change>
<change><file>constants.ts</file>...</change>
</changes>
```
---

**משתמש:** בוא נוסיף בתחילץ כל רשימת הטיות שם החילה בעברית ובתעתיק מערבית. ללא כל הטייה או קניין כדי שיהיה ברור למשתמש כיצד היא נראית ללא הטיה. .

**AI:**
בטח, זה רעיון מצוין שיוסיף המון בהירות לשיעורים! הוספתי שורת פתיחה מודגשת בתחילת כל טבלת הטיות, הן בפרק הפעלים והן בפרק שמות העצם.
```xml
<changes>
<change><file>components/LessonView.tsx</file>...</change>
<change><file>components/NounView.tsx</file>...</change>
</changes>
```
---

**משתמש:** הוסף עוד 15 מילים לרשימה

**AI:**
בטח, הרחבתי את פרק לימוד שמות העצם והוספתי 15 מילים שימושיות חדשות, יחד עם כל הטיות הקניין שלהן.
```xml
<changes>
<change><file>constants.ts</file>...</change>
</changes>
```
---

**משתמש:** במילה שע'ל וע'רפה יש לאחר הע' ריבוע. אין צורל בריבוע ניתן להסיר אותו בכל מקום שזה מתקיים

**AI:**
הבנתי, תודה על הדיווח. זיהיתי את הבעיה: במילה "שֻע'ֹל" (עבודה) והטיותיה היה שימוש בניקוד לא מדויק (`חולם` במקום `קובוץ`), מה שכנראה גרם לבעיית התצגות (הריבוע) שראית. תיקנתי את הניקוד בכל המקומות הרלוונטיים.
```xml
<changes>
<change><file>constants.ts</file>...</change>
</changes>
```
---

**משתמש:** הוסף פיצר שמירת התקדמות גם בשיעור כינויי הקניין

**AI:**
בטח, זהו צעד טבעי והגיוני. הוספתי את אותה מערכת למעקב אחר התקדמות שיישמנו בפרק הפעלים גם לפרק שמות העצם והקניין.
```xml
<changes>
<change><file>components/NounView.tsx</file>...</change>
</changes>
```
---

**משתמש:** במילים ע'רפה ושע'ל מופיע ריבוע לאחר האות ע'. תקן זאת והסר את הריבוע

**AI:**
שוב תודה על הפידבק המדויק! זיהיתי את בעיית התצוגה... כדי לפתור זאת, שיניתי את סדר התווים בתעתיק: במקום `ע'` ואחריו ניקוד (למשל `ע'ֻ`), הניקוד יוצמד כעת ישירות לאות `ע` לפני הגרש (למשל `עֻ'`).
```xml
<changes>
<change><file>constants.ts</file>...</change>
</changes>
```
---

## חלק 2: תיעוד טכני של האפליקציה

### 1. מבוא והגדרה

**שם האפליקציה:** "שוּ אִסְמַכּ?" - לימוד ערבית פלסטינית
**מטרה:** לספק פלטפורמה אינטראקטיבית לקהל דובר עברית ללימוד ערבית מדוברת בניב הפלסטיני.
**מתודולוגיה ייחודית:** האפליקציה מתבססת על מערכת תעתיק פונטי ייחודית המשתמשת באותיות עבריות ובניקוד כדי לייצג צלילים בערבית. גישה זו מאפשרת למשתמשים להתמקד בהגייה ובדיבור מהרגע הראשון, ללא צורך בידיעת האלפבית הערבי.

### 2. תכונות מרכזיות (Features)

1.  **מבוא והגייה (`IntroductionView`):**
    *   מסך פתיחה המסביר את עקרונות התעתיק הפונטי.
    *   כולל טבלה מפורטת הממפה אותיות ערביות לתעתיק העברי ולהערות הגייה.

2.  **פרק לימוד פעלים (`LessonView`):**
    *   מציג שיעורים מובנים על פעלים נפוצים, מאורגנים בכרטיסיות.
    *   כל כרטיסייה מכילה טבלת הטיות מלאה לפי כינויי גוף.
    *   כולל את צורת היסוד של הפועל להבהרה.

3.  **פרק לימוד שמות עצם וקניין (`NounView`):**
    *   מציג שיעורים על שמות עצם נפוצים והטיותיהם עם כינויי קניין (שייכות).
    *   המבנה זהה לפרק הפעלים, עם כרטיסיות, טבלאות וצורת יסוד.

4.  **יצירת שמע דינמית (Text-to-Speech):**
    *   **שירות ElevenLabs:** משמש להמרת טקסט לשמע באיכות גבוהה.
    *   **שירות Gemini לתרגום:** לפני שליחת הטקסט ל-ElevenLabs, הטקסט (שנכתב בתעתיק עברי) מתורגם לכתב ערבי סטנדרטי באמצעות Gemini API. תהליך דו-שלבי זה מבטיח שההגייה המופקת על ידי ElevenLabs תהיה מדויקת ואותנטית.
    *   בכל כפתור השמעה יש חיווי טעינה (ספינר) בזמן שהשמע נוצר ברקע.

5.  **שינון פעלים (`VerbDrillView`):**
    *   מסך תרגול אינטראקטיבי בסגנון מבחן אמריקאי.
    *   המערכת יוצרת שאלות אקראיות ממאגר הפעלים, כאשר פעם מוצגת המילה בעברית ופעם בתעתיק.
    *   המשתמש צריך לבחור את התרגום הנכון מבין 4 אפשרויות.
    *   כולל משוב מיידי (צבע ירוק לתשובה נכונה, אדום לשגויה) ומעקב אחר ניקוד.

6.  **זרימת למידה וגיימיפיקציה:**
    *   **מעבר מובנה:** המשתמש יכול לעבור מפרק לימוד הפעלים לתרגול רק לאחר שאישר ששינן את החומר.
    *   **תגמול על הצלחה:** לאחר 10 תשובות נכונות רצופות בתרגול, מופיעה הודעת "כל הכבוד!" המעודדת את המשתמש ומציעה לו לעבור לפרק הבא.

7.  **שמירת התקדמות (`localStorage`):**
    *   האפליקציה שומרת את התקדמות המשתמש באופן מקומי בדפדפן.
    *   בכל פרק לימוד (פעלים ושמות עצם), המשתמש יכול לסמן שיעורים כ"הושלמו".
    *   ההתקדמות נשמרת בנפרד לכל פרק.
    *   קיים כפתור "אפס התקדמות" בכל פרק למחיקת הנתונים השמורים.

8.  **מגרש משחקים (`Playground`):**
    *   **תרגול הגייה:** המשתמש יכול לבחור ביטוי, להקליט את עצמו אומר אותו, ולקבל משוב מ-Gemini API על דיוק ההגייה.
    *   **מחולל נושאי שיחה:** כלי המשתמש ב-Gemini כדי להציע רעיונות פשוטים לתרגול שיחה.

### 3. ארכיטקטורה ומבנה הפרויקט

**טכנולוגיות:**
*   **שפה:** TypeScript
*   **ספריית UI:** React
*   **עיצוב:** Tailwind CSS
*   **APIs:** Google Gemini, ElevenLabs

**מבנה קבצים עיקרי:**

*   `index.html`: קובץ ה-HTML הראשי.
*   `index.tsx`: נקודת הכניסה של אפליקציית React.
*   `App.tsx`: הרכיב הראשי, מנהל את הניווט בין המסכים השונים (Views).
*   `constants.ts`: מכיל את כל הנתונים הסטטיים של השיעורים (רשימת פעלים, שמות עצם וכו').
*   `types.ts`: מגדיר את מבני הנתונים (interfaces) של האפליקציה (למשל `VerbLesson`, `NounLesson`).
*   `metadata.json`: מגדיר מטא-דאטה של האפליקציה ובקשת הרשאות (כמו שימוש במיקרופון).

*   **`/components`**: מכיל את כל רכיבי ה-React.
    *   `LessonView.tsx`: מסך לימוד הפעלים.
    *   `NounView.tsx`: מסך לימוד שמות העצם.
    *   `VerbDrillView.tsx`: מסך תרגול הפעלים.
    *   `Playground.tsx`: מסך "מגרש המשחקים".
    *   `IntroductionView.tsx`: מסך המבוא.
    *   `Icons.tsx`: רכיבי SVG עבור האייקונים השונים באפליקציה.

*   **`/services`**: מכיל לוגיקה המתקשרת עם שירותים חיצוניים.
    *   `geminiService.ts`: אחראי על כל התקשורת עם Google Gemini API (משוב הגייה, תרגום תעתיק, יצירת נושאי שיחה).
    *   `elevenLabsService.ts`: אחראי על התקשורת עם ElevenLabs API ליצירת שמע.

### 4. הגדרה והרצה

כדי להפעיל את האפליקציה באופן מלא, יש להגדיר שני משתני סביבה (environment variables) עם מפתחות API מתאימים:

1.  `API_KEY`: עבור Google Gemini API.
2.  `ELEVENLABS_API_KEY`: עבור ElevenLabs API.

ללא מפתחות אלו, התכונות המבוססות בינה מלאכותית (יצירת שמע, משוב הגייה) לא יפעלו.

